2024-05-23 14:27.37: New job: test libbinaryen.112.0.0 with menhir-secondary.20210419, using opam dev
                              from https://github.com/ocaml/opam-repository.git#refs/pull/25928/head (2f0a69c7ebd1768cbfd28ba596b3272e99d1f383)
                              on debian-12-ocaml-4.14/amd64

To reproduce locally:

cd $(mktemp -d)
git clone --recursive "https://github.com/ocaml/opam-repository.git" && cd "opam-repository" && git fetch origin "refs/pull/25928/head" && git reset --hard 2f0a69c7
git fetch origin master
git merge --no-edit 9395b46c54472a81784178457c1b96ff87ef1740
cat > ../Dockerfile <<'END-OF-DOCKERFILE'
[34mFROM ocaml/opam:debian-12-ocaml-4.14@sha256:575952ac1a1b71568d969fe2b9788c1516c1252dda6ccffdc995036cc8cc9e3b
USER 1000:1000
WORKDIR /home/opam
RUN sudo ln -f /usr/bin/opam-dev /usr/bin/opam
RUN opam init --reinit -ni
RUN uname -rs && opam exec -- ocaml -version && opam --version
ENV OPAMDOWNLOADJOBS="1"
ENV OPAMERRLOGLEN="0"
ENV OPAMSOLVERTIMEOUT="500"
ENV OPAMPRECISETRACKING="1"
ENV CI="true"
ENV OPAM_REPO_CI="true"
RUN rm -rf opam-repository/
COPY --chown=1000:1000 . opam-repository/
RUN opam repository set-url --strict default opam-repository/
RUN opam update --depexts || true
RUN opam pin add -k version -yn menhir-secondary.20210419 20210419
RUN opam reinstall menhir-secondary.20210419; \
    res=$?; \
    test "$res" != 31 && exit "$res"; \
    export OPAMCLI=2.0; \
    build_dir=$(opam var prefix)/.opam-switch/build; \
    failed=$(ls "$build_dir"); \
    partial_fails=""; \
    for pkg in $failed; do \
    if opam show -f x-ci-accept-failures: "$pkg" | grep -qF "\"debian-12\""; then \
    echo "A package failed and has been disabled for CI using the 'x-ci-accept-failures' field."; \
    fi; \
    test "$pkg" != 'menhir-secondary.20210419' && partial_fails="$partial_fails $pkg"; \
    done; \
    test "${partial_fails}" != "" && echo "opam-repo-ci detected dependencies failing: ${partial_fails}"; \
    exit 1
RUN opam reinstall libbinaryen.112.0.0; \
    res=$?; \
    test "$res" != 31 && exit "$res"; \
    export OPAMCLI=2.0; \
    build_dir=$(opam var prefix)/.opam-switch/build; \
    failed=$(ls "$build_dir"); \
    partial_fails=""; \
    for pkg in $failed; do \
    if opam show -f x-ci-accept-failures: "$pkg" | grep -qF "\"debian-12\""; then \
    echo "A package failed and has been disabled for CI using the 'x-ci-accept-failures' field."; \
    fi; \
    test "$pkg" != 'libbinaryen.112.0.0' && partial_fails="$partial_fails $pkg"; \
    done; \
    test "${partial_fails}" != "" && echo "opam-repo-ci detected dependencies failing: ${partial_fails}"; \
    exit 1
RUN (opam reinstall --with-test libbinaryen.112.0.0) || true
RUN opam reinstall --with-test --verbose libbinaryen.112.0.0; \
    res=$?; \
    test "$res" != 31 && exit "$res"; \
    export OPAMCLI=2.0; \
    build_dir=$(opam var prefix)/.opam-switch/build; \
    failed=$(ls "$build_dir"); \
    partial_fails=""; \
    for pkg in $failed; do \
    if opam show -f x-ci-accept-failures: "$pkg" | grep -qF "\"debian-12\""; then \
    echo "A package failed and has been disabled for CI using the 'x-ci-accept-failures' field."; \
    fi; \
    test "$pkg" != 'libbinaryen.112.0.0' && partial_fails="$partial_fails $pkg"; \
    done; \
    test "${partial_fails}" != "" && echo "opam-repo-ci detected dependencies failing: ${partial_fails}"; \
    exit 1
[0m
END-OF-DOCKERFILE
docker build -f ../Dockerfile .

2024-05-23 14:27.37: Using cache hint "ocaml/opam:debian-12-ocaml-4.14@sha256:575952ac1a1b71568d969fe2b9788c1516c1252dda6ccffdc995036cc8cc9e3b-menhir-secondary.20210419-libbinaryen.112.0.0-2f0a69c7ebd1768cbfd28ba596b3272e99d1f383"
2024-05-23 14:27.37: Using OBuilder spec:
((from ocaml/opam:debian-12-ocaml-4.14@sha256:575952ac1a1b71568d969fe2b9788c1516c1252dda6ccffdc995036cc8cc9e3b)
 (user (uid 1000) (gid 1000))
 (workdir /home/opam)
 (run (shell "sudo ln -f /usr/bin/opam-dev /usr/bin/opam"))
 (run (network host)
      (shell "opam init --reinit --config .opamrc-sandbox -ni"))
 (run (shell "uname -rs && opam exec -- ocaml -version && opam --version"))
 (env OPAMDOWNLOADJOBS 1)
 (env OPAMERRLOGLEN 0)
 (env OPAMSOLVERTIMEOUT 500)
 (env OPAMPRECISETRACKING 1)
 (env CI true)
 (env OPAM_REPO_CI true)
 (run (shell "rm -rf opam-repository/"))
 (copy (src .) (dst opam-repository/))
 (run (shell "opam repository set-url --strict default opam-repository/"))
 (run (network host)
      (shell "opam update --depexts || true"))
 (run (shell "opam pin add -k version -yn menhir-secondary.20210419 20210419"))
 (run (cache (opam-archives (target /home/opam/.opam/download-cache)))
      (network host)
      (shell  "opam reinstall menhir-secondary.20210419;\
             \n        res=$?;\
             \n        test \"$res\" != 31 && exit \"$res\";\
             \n        export OPAMCLI=2.0;\
             \n        build_dir=$(opam var prefix)/.opam-switch/build;\
             \n        failed=$(ls \"$build_dir\");\
             \n        partial_fails=\"\";\
             \n        for pkg in $failed; do\
             \n          if opam show -f x-ci-accept-failures: \"$pkg\" | grep -qF \"\\\"debian-12\\\"\"; then\
             \n            echo \"A package failed and has been disabled for CI using the 'x-ci-accept-failures' field.\";\
             \n          fi;\
             \n          test \"$pkg\" != 'menhir-secondary.20210419' && partial_fails=\"$partial_fails $pkg\";\
             \n        done;\
             \n        test \"${partial_fails}\" != \"\" && echo \"opam-repo-ci detected dependencies failing: ${partial_fails}\";\
             \n        exit 1"))
 (run (cache (opam-archives (target /home/opam/.opam/download-cache)))
      (network host)
      (shell  "opam reinstall libbinaryen.112.0.0;\
             \n        res=$?;\
             \n        test \"$res\" != 31 && exit \"$res\";\
             \n        export OPAMCLI=2.0;\
             \n        build_dir=$(opam var prefix)/.opam-switch/build;\
             \n        failed=$(ls \"$build_dir\");\
             \n        partial_fails=\"\";\
             \n        for pkg in $failed; do\
             \n          if opam show -f x-ci-accept-failures: \"$pkg\" | grep -qF \"\\\"debian-12\\\"\"; then\
             \n            echo \"A package failed and has been disabled for CI using the 'x-ci-accept-failures' field.\";\
             \n          fi;\
             \n          test \"$pkg\" != 'libbinaryen.112.0.0' && partial_fails=\"$partial_fails $pkg\";\
             \n        done;\
             \n        test \"${partial_fails}\" != \"\" && echo \"opam-repo-ci detected dependencies failing: ${partial_fails}\";\
             \n        exit 1"))
 (run (network host)
      (shell "(opam reinstall --with-test libbinaryen.112.0.0) || true"))
 (run (shell  "opam reinstall --with-test --verbose libbinaryen.112.0.0;\
             \n        res=$?;\
             \n        test \"$res\" != 31 && exit \"$res\";\
             \n        export OPAMCLI=2.0;\
             \n        build_dir=$(opam var prefix)/.opam-switch/build;\
             \n        failed=$(ls \"$build_dir\");\
             \n        partial_fails=\"\";\
             \n        for pkg in $failed; do\
             \n          if opam show -f x-ci-accept-failures: \"$pkg\" | grep -qF \"\\\"debian-12\\\"\"; then\
             \n            echo \"A package failed and has been disabled for CI using the 'x-ci-accept-failures' field.\";\
             \n          fi;\
             \n          test \"$pkg\" != 'libbinaryen.112.0.0' && partial_fails=\"$partial_fails $pkg\";\
             \n        done;\
             \n        test \"${partial_fails}\" != \"\" && echo \"opam-repo-ci detected dependencies failing: ${partial_fails}\";\
             \n        exit 1"))
)

2024-05-23 14:27.37: Waiting for resource in pool OCluster
2024-05-24 04:50.26: Waiting for workerâ€¦
2024-05-24 04:52.59: Got resource from pool OCluster
Building on x86-bm-c6.sw.ocaml.org
All commits already cached
Updating files:  44% (15145/33795)Updating files:  45% (15208/33795)Updating files:  46% (15546/33795)Updating files:  47% (15884/33795)Updating files:  48% (16222/33795)Updating files:  49% (16560/33795)Updating files:  50% (16898/33795)Updating files:  51% (17236/33795)Updating files:  52% (17574/33795)Updating files:  53% (17912/33795)Updating files:  54% (18250/33795)Updating files:  55% (18588/33795)Updating files:  56% (18926/33795)Updating files:  57% (19264/33795)Updating files:  58% (19602/33795)Updating files:  59% (19940/33795)Updating files:  60% (20277/33795)Updating files:  61% (20615/33795)Updating files:  62% (20953/33795)Updating files:  63% (21291/33795)Updating files:  64% (21629/33795)Updating files:  65% (21967/33795)Updating files:  66% (22305/33795)Updating files:  67% (22643/33795)Updating files:  68% (22981/33795)Updating files:  69% (23319/33795)Updating files:  70% (23657/33795)Updating files:  71% (23995/33795)Updating files:  72% (24333/33795)Updating files:  73% (24671/33795)Updating files:  74% (25009/33795)Updating files:  75% (25347/33795)Updating files:  76% (25685/33795)Updating files:  77% (26023/33795)Updating files:  78% (26361/33795)Updating files:  79% (26699/33795)Updating files:  80% (27036/33795)Updating files:  81% (27374/33795)Updating files:  82% (27712/33795)Updating files:  83% (28050/33795)Updating files:  84% (28388/33795)Updating files:  85% (28726/33795)Updating files:  86% (29064/33795)Updating files:  87% (29402/33795)Updating files:  88% (29740/33795)Updating files:  89% (30078/33795)Updating files:  90% (30416/33795)Updating files:  91% (30754/33795)Updating files:  92% (31092/33795)Updating files:  93% (31430/33795)Updating files:  94% (31768/33795)Updating files:  95% (32106/33795)Updating files:  96% (32444/33795)Updating files:  97% (32782/33795)Updating files:  98% (33120/33795)Updating files:  99% (33458/33795)Updating files:  99% (33750/33795)Updating files: 100% (33795/33795)Updating files: 100% (33795/33795), done.
HEAD is now at 9395b46c54 Merge pull request #25920 from hannesm/release-mirage-vnetif-v0.6.2
Merge made by the 'ort' strategy.
 packages/base-flambda2/base-flambda2.base/opam     |  8 +++
 packages/dune-secondary/dune-secondary.3.8.1/opam  | 57 ++++++++++++++++++++++
 .../menhir-secondary.20210419/opam                 | 28 +++++++++++
 .../ocaml-secondary-compiler.4.14.1/opam           | 30 ++++++++++++
 .../ocaml-variants.5.1.1+flambda2/opam             | 37 ++++++++++++++
 5 files changed, 160 insertions(+)
 create mode 100644 packages/base-flambda2/base-flambda2.base/opam
 create mode 100644 packages/dune-secondary/dune-secondary.3.8.1/opam
 create mode 100644 packages/menhir-secondary/menhir-secondary.20210419/opam
 create mode 100644 packages/ocaml-secondary-compiler/ocaml-secondary-compiler.4.14.1/opam
 create mode 100644 packages/ocaml-variants/ocaml-variants.5.1.1+flambda2/opam

[01;34m(from ocaml/opam:debian-12-ocaml-4.14@sha256:575952ac1a1b71568d969fe2b9788c1516c1252dda6ccffdc995036cc8cc9e3b)[0m
Unable to find image 'ocaml/opam:debian-12-ocaml-4.14@sha256:575952ac1a1b71568d969fe2b9788c1516c1252dda6ccffdc995036cc8cc9e3b' locally
docker.io/ocaml/opam@sha256:575952ac1a1b71568d969fe2b9788c1516c1252dda6ccffdc995036cc8cc9e3b: Pulling from ocaml/opam
d8f8273aa989: Pulling fs layer
d8f8273aa989: Verifying Checksum
d8f8273aa989: Download complete
d8f8273aa989: Pull complete
Digest: sha256:575952ac1a1b71568d969fe2b9788c1516c1252dda6ccffdc995036cc8cc9e3b
Status: Downloaded newer image for ocaml/opam@sha256:575952ac1a1b71568d969fe2b9788c1516c1252dda6ccffdc995036cc8cc9e3b
[01;2m[01;35m2024-05-24 04:53.03 ---> using "b70a2807c2cfb3c5680f4fafeddd66a33d7dcdd9d48b1543e8642b8df113fdbf" from cache[0m

[01;34m/: (user (uid 1000) (gid 1000))[0m

[01;34m/: (workdir /home/opam)[0m

[01;34m/home/opam: (run (shell "sudo ln -f /usr/bin/opam-dev /usr/bin/opam"))[0m
[01;2m[01;35m2024-05-24 04:53.03 ---> using "c36f90ecff164603a21017340adb790a2f028b93271d75cce805aa2725f2c474" from cache[0m

[01;34m/home/opam: (run (network host)
                 (shell "opam init --reinit --config .opamrc-sandbox -ni"))[0m
Configuring from /home/opam/.opamrc-sandbox, then /home/opam/.opamrc, and finally from built-in defaults.
Checking for available remotes: rsync and local, git.
  - you won't be able to use mercurial repositories unless you install the hg command on your system.
  - you won't be able to use darcs repositories unless you install the darcs command on your system.

Continue? [y/n] y
This development version of opam requires an update to the layout of /home/opam/.opam from version 2.0 to version 2.2~beta, which can't be reverted.
You may want to back it up before going further.

[NOTE] The 'jobs' option was reset, its value was 39 and its new value will vary according to the current number of cores on your machine. You can restore the fixed value using:
           opam option jobs=39 --global
Format upgrade done.

<><> Updating repositories ><><><><><><><><><><><><><><><><><><><><><><><><><><>
[default] synchronised from file:///home/opam/opam-repository
[01;2m[01;35m2024-05-24 04:53.03 ---> using "41ba59c52c751987091a990bfc68743f47f1d48b58a0242e92679239747c0a38" from cache[0m

[01;34m/home/opam: (run (shell "uname -rs && opam exec -- ocaml -version && opam --version"))[0m
Linux 5.15.0-107-generic
The OCaml toplevel, version 4.14.2
2.2.0~beta3~dev
[01;2m[01;35m2024-05-24 04:53.03 ---> using "43177bf724d2ad14c3885c9e8604bf82de09a17c5632804082eaf00f00843b27" from cache[0m

[01;34m/home/opam: (env OPAMDOWNLOADJOBS 1)[0m

[01;34m/home/opam: (env OPAMERRLOGLEN 0)[0m

[01;34m/home/opam: (env OPAMSOLVERTIMEOUT 500)[0m

[01;34m/home/opam: (env OPAMPRECISETRACKING 1)[0m

[01;34m/home/opam: (env CI true)[0m

[01;34m/home/opam: (env OPAM_REPO_CI true)[0m

[01;34m/home/opam: (run (shell "rm -rf opam-repository/"))[0m
[01;2m[01;35m2024-05-24 04:53.03 ---> using "dc5d5a1631518083bf7b71a8bbeb70067bb1c0e264ce14940be3414232922413" from cache[0m

[01;34m/home/opam: (copy (src .) (dst opam-repository/))[0m
[01;2m[01;35m2024-05-24 04:53.05 ---> using "d556626f6b0062a49d011de86989420f302ac4e6de251ff57f6cd4898a4b9642" from cache[0m

[01;34m/home/opam: (run (shell "opam repository set-url --strict default opam-repository/"))[0m
[default] Initialised
[01;2m[01;35m2024-05-24 04:53.05 ---> using "459c9619e166ddc1e3ba1368e034b7f72b598e6ecb9b06f2a6a483480717e574" from cache[0m

[01;34m/home/opam: (run (network host)
                 (shell "opam update --depexts || true"))[0m
+ /usr/bin/sudo "apt-get" "update"
- Hit:1 http://deb.debian.org/debian bookworm InRelease
- Get:2 http://deb.debian.org/debian bookworm-updates InRelease [55.4 kB]
- Get:3 http://deb.debian.org/debian-security bookworm-security InRelease [48.0 kB]
- Get:4 http://deb.debian.org/debian-security bookworm-security/main amd64 Packages [156 kB]
- Fetched 259 kB in 0s (741 kB/s)
- Reading package lists...
- 
[01;2m[01;35m2024-05-24 04:53.05 ---> using "d6db531a0047732e69778757c47945135c78e6ba31f2415de63bea178b5e0369" from cache[0m

[01;34m/home/opam: (run (shell "opam pin add -k version -yn menhir-secondary.20210419 20210419"))[0m
menhir-secondary is now pinned to version 20210419
[01;2m[01;35m2024-05-24 04:53.05 ---> using "4b2426f7f8110ebfe1f7604b59d261733c12c1b24e06d809ddaebf3cfafa238a" from cache[0m

[01;34m/home/opam: (run (cache (opam-archives (target /home/opam/.opam/download-cache)))
                 (network host)
                 (shell  "opam reinstall menhir-secondary.20210419;\
                        \n        res=$?;\
                        \n        test \"$res\" != 31 && exit \"$res\";\
                        \n        export OPAMCLI=2.0;\
                        \n        build_dir=$(opam var prefix)/.opam-switch/build;\
                        \n        failed=$(ls \"$build_dir\");\
                        \n        partial_fails=\"\";\
                        \n        for pkg in $failed; do\
                        \n          if opam show -f x-ci-accept-failures: \"$pkg\" | grep -qF \"\\\"debian-12\\\"\"; then\
                        \n            echo \"A package failed and has been disabled for CI using the 'x-ci-accept-failures' field.\";\
                        \n          fi;\
                        \n          test \"$pkg\" != 'menhir-secondary.20210419' && partial_fails=\"$partial_fails $pkg\";\
                        \n        done;\
                        \n        test \"${partial_fails}\" != \"\" && echo \"opam-repo-ci detected dependencies failing: ${partial_fails}\";\
                        \n        exit 1"))[0m
menhir-secondary.20210419 is not installed. Install it? [y/n] y
The following actions will be performed:
=== install 3 packages
  - install dune-secondary           3.8.1             [required by menhir-secondary]
  - install menhir-secondary         20210419 (pinned)
  - install ocaml-secondary-compiler 4.14.1            [required by dune-secondary]

<><> Processing actions <><><><><><><><><><><><><><><><><><><><><><><><><><><><>
-> retrieved dune-secondary.3.8.1  (cached)
-> retrieved menhir-secondary.20210419  (cached)
-> retrieved ocaml-secondary-compiler.4.14.1  (cached)
-> installed ocaml-secondary-compiler.4.14.1
-> installed dune-secondary.3.8.1
-> installed menhir-secondary.20210419
Done.
# Run eval $(opam env) to update the current shell environment
[01;2m[01;35m2024-05-24 04:53.05 ---> using "35d30bb25e659b2e7f6fa7aa229dfe7bab8fd7d4622f43075c77382126d6276b" from cache[0m

[01;34m/home/opam: (run (cache (opam-archives (target /home/opam/.opam/download-cache)))
                 (network host)
                 (shell  "opam reinstall libbinaryen.112.0.0;\
                        \n        res=$?;\
                        \n        test \"$res\" != 31 && exit \"$res\";\
                        \n        export OPAMCLI=2.0;\
                        \n        build_dir=$(opam var prefix)/.opam-switch/build;\
                        \n        failed=$(ls \"$build_dir\");\
                        \n        partial_fails=\"\";\
                        \n        for pkg in $failed; do\
                        \n          if opam show -f x-ci-accept-failures: \"$pkg\" | grep -qF \"\\\"debian-12\\\"\"; then\
                        \n            echo \"A package failed and has been disabled for CI using the 'x-ci-accept-failures' field.\";\
                        \n          fi;\
                        \n          test \"$pkg\" != 'libbinaryen.112.0.0' && partial_fails=\"$partial_fails $pkg\";\
                        \n        done;\
                        \n        test \"${partial_fails}\" != \"\" && echo \"opam-repo-ci detected dependencies failing: ${partial_fails}\";\
                        \n        exit 1"))[0m
libbinaryen.112.0.0 is not installed. Install it? [y/n] y
The following actions will be performed:
=== install 5 packages
  - install conf-cmake        1       [required by libbinaryen]
  - install csexp             1.5.2   [required by dune-configurator]
  - install dune              3.15.2  [required by libbinaryen]
  - install dune-configurator 3.15.2  [required by libbinaryen]
  - install libbinaryen       112.0.0

The following system packages will first need to be installed:
    cmake

<><> Handling external dependencies <><><><><><><><><><><><><><><><><><><><><><>

opam believes some required external dependencies are missing. opam can:
> 1. Run apt-get to install them (may need root/sudo access)
  2. Display the recommended apt-get command and wait while you run it manually (e.g. in another terminal)
  3. Continue anyway, and, upon success, permanently register that this external dependency is present, but not detectable
  4. Abort the installation

[1/2/3/4] 1

+ /usr/bin/sudo "apt-get" "install" "-qq" "-yy" "cmake"
- debconf: delaying package configuration, since apt-utils is not installed
- Selecting previously unselected package libicu72:amd64.
- (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 18735 files and directories currently installed.)
- Preparing to unpack .../0-libicu72_72.1-3_amd64.deb ...
- Unpacking libicu72:amd64 (72.1-3) ...
- Selecting previously unselected package libxml2:amd64.
- Preparing to unpack .../1-libxml2_2.9.14+dfsg-1.3~deb12u1_amd64.deb ...
- Unpacking libxml2:amd64 (2.9.14+dfsg-1.3~deb12u1) ...
- Selecting previously unselected package libarchive13:amd64.
- Preparing to unpack .../2-libarchive13_3.6.2-1_amd64.deb ...
- Unpacking libarchive13:amd64 (3.6.2-1) ...
- Selecting previously unselected package libjsoncpp25:amd64.
- Preparing to unpack .../3-libjsoncpp25_1.9.5-4_amd64.deb ...
- Unpacking libjsoncpp25:amd64 (1.9.5-4) ...
- Selecting previously unselected package librhash0:amd64.
- Preparing to unpack .../4-librhash0_1.4.3-3_amd64.deb ...
- Unpacking librhash0:amd64 (1.4.3-3) ...
- Selecting previously unselected package libuv1:amd64.
- Preparing to unpack .../5-libuv1_1.44.2-1+deb12u1_amd64.deb ...
- Unpacking libuv1:amd64 (1.44.2-1+deb12u1) ...
- Selecting previously unselected package cmake-data.
- Preparing to unpack .../6-cmake-data_3.25.1-1_all.deb ...
- Unpacking cmake-data (3.25.1-1) ...
- Selecting previously unselected package cmake.
- Preparing to unpack .../7-cmake_3.25.1-1_amd64.deb ...
- Unpacking cmake (3.25.1-1) ...
- Setting up libicu72:amd64 (72.1-3) ...
- Setting up libuv1:amd64 (1.44.2-1+deb12u1) ...
- Setting up libjsoncpp25:amd64 (1.9.5-4) ...
- Setting up librhash0:amd64 (1.4.3-3) ...
- Setting up cmake-data (3.25.1-1) ...
- Setting up libxml2:amd64 (2.9.14+dfsg-1.3~deb12u1) ...
- Setting up libarchive13:amd64 (3.6.2-1) ...
- Setting up cmake (3.25.1-1) ...
- Processing triggers for libc-bin (2.36-9+deb12u7) ...

<><> Processing actions <><><><><><><><><><><><><><><><><><><><><><><><><><><><>
-> retrieved csexp.1.5.2  (cached)
-> installed conf-cmake.1
-> retrieved dune.3.15.2, dune-configurator.3.15.2  (cached)
-> retrieved libbinaryen.112.0.0  (cached)
-> installed dune.3.15.2
-> installed csexp.1.5.2
-> installed dune-configurator.3.15.2
-> installed libbinaryen.112.0.0
Done.
# Run eval $(opam env) to update the current shell environment
[01;2m[01;35m2024-05-24 05:04.32 ---> saved as "79f05aece94f0748426cda59b3cf12739f3494d2b9eab650b3ea8537d42bc32a"[0m

[01;34m/home/opam: (run (network host)
                 (shell "(opam reinstall --with-test libbinaryen.112.0.0) || true"))[0m
[ERROR] Sorry, resolution of the request timed out.
        Try to specify a more precise request, use a different solver, or increase the allowed time by setting OPAMSOLVERTIMEOUT to a bigger value (currently, it is set to 500.0 seconds).
[01;2m[01;35m2024-05-24 05:13.11 ---> saved as "088e4cb76dfc0931412fdd510bb419eaa5853a06b984cdd5ef15d7e105014614"[0m

[01;34m/home/opam: (run (shell  "opam reinstall --with-test --verbose libbinaryen.112.0.0;\
                        \n        res=$?;\
                        \n        test \"$res\" != 31 && exit \"$res\";\
                        \n        export OPAMCLI=2.0;\
                        \n        build_dir=$(opam var prefix)/.opam-switch/build;\
                        \n        failed=$(ls \"$build_dir\");\
                        \n        partial_fails=\"\";\
                        \n        for pkg in $failed; do\
                        \n          if opam show -f x-ci-accept-failures: \"$pkg\" | grep -qF \"\\\"debian-12\\\"\"; then\
                        \n            echo \"A package failed and has been disabled for CI using the 'x-ci-accept-failures' field.\";\
                        \n          fi;\
                        \n          test \"$pkg\" != 'libbinaryen.112.0.0' && partial_fails=\"$partial_fails $pkg\";\
                        \n        done;\
                        \n        test \"${partial_fails}\" != \"\" && echo \"opam-repo-ci detected dependencies failing: ${partial_fails}\";\
                        \n        exit 1"))[0m
The following actions will be performed:
=== recompile 1 package
  - recompile libbinaryen          112.0.0
=== install 13 packages
  - install   cmdliner             1.3.0    [required by js_of_ocaml-compiler]
  - install   cppo                 1.6.9    [required by yojson]
  - install   js_of_ocaml-compiler 5.0.1    [required by libbinaryen]
  - install   menhir               20230608 [required by js_of_ocaml-compiler]
  - install   menhirLib            20230608 [required by js_of_ocaml-compiler]
  - install   menhirSdk            20230608 [required by js_of_ocaml-compiler]
  - install   ocaml-compiler-libs  v0.12.4  [required by ppxlib]
  - install   ppx_derivers         1.2.1    [required by ppxlib]
  - install   ppxlib               0.32.1   [required by js_of_ocaml-compiler]
  - install   seq                  base     [required by yojson]
  - install   sexplib0             v0.17.0  [required by ppxlib]
  - install   stdlib-shims         0.3.0    [required by ppxlib]
  - install   yojson               2.1.2    [required by js_of_ocaml-compiler]

<><> Processing actions <><><><><><><><><><><><><><><><><><><><><><><><><><><><>
Processing  1/41: [cmdliner.1.3.0: http]
[ERROR] Failed to get sources of cmdliner.1.3.0: Curl failed
Processing  2/41: [cppo.1.6.9: http]
Processing  3/41: [cppo.1.6.9: http]
Processing  4/41: [cppo.1.6.9: http]
[ERROR] Failed to get sources of cppo.1.6.9: Curl failed
Processing  5/41: [js_of_ocaml-compiler.5.0.1: http]
Processing  6/41: [js_of_ocaml-compiler.5.0.1: http]
Processing  7/41: [js_of_ocaml-compiler.5.0.1: http]
[ERROR] Failed to get sources of js_of_ocaml-compiler.5.0.1: Curl failed
Processing  8/41: [libbinaryen.112.0.0: http]
[ERROR] Failed to get sources of libbinaryen.112.0.0: Curl failed
Processing  9/41: [menhir.20230608, menhirLib.20230608, menhirSdk.20230608: http]
[ERROR] Failed to get sources of menhir.20230608, menhirLib.20230608, menhirSdk.20230608 (https://gitlab.inria.fr/fpottier/menhir/-/archive/20230608/archive.tar.gz): Curl failed
Processing 10/41: [ocaml-compiler-libs.v0.12.4: http]
Processing 11/41: [ocaml-compiler-libs.v0.12.4: http]
Processing 12/41: [ocaml-compiler-libs.v0.12.4: http]
Processing 13/41: [ocaml-compiler-libs.v0.12.4: http]
Processing 14/41: [ocaml-compiler-libs.v0.12.4: http]
Processing 15/41: [ocaml-compiler-libs.v0.12.4: http]
Processing 16/41: [ocaml-compiler-libs.v0.12.4: http]
[ERROR] Failed to get sources of ocaml-compiler-libs.v0.12.4: Curl failed
Processing 17/41: [ppx_derivers.1.2.1: http]
Processing 18/41: [ppx_derivers.1.2.1: http]
Processing 19/41: [ppx_derivers.1.2.1: http]
[ERROR] Failed to get sources of ppx_derivers.1.2.1: Curl failed
Processing 20/41: [ppxlib.0.32.1: http]
Processing 21/41: [ppxlib.0.32.1: http]
Processing 22/41: [ppxlib.0.32.1: http]
[ERROR] Failed to get sources of ppxlib.0.32.1: Curl failed
Processing 24/41: [sexplib0.v0.17.0: http]
Processing 25/41: [sexplib0.v0.17.0: http]
-> installed seq.base
Processing 26/41: [sexplib0.v0.17.0: http]
[ERROR] Failed to get sources of sexplib0.v0.17.0: Curl failed
Processing 27/41: [stdlib-shims.0.3.0: http]
Processing 28/41: [stdlib-shims.0.3.0: http]
Processing 29/41: [stdlib-shims.0.3.0: http]
[ERROR] Failed to get sources of stdlib-shims.0.3.0: Curl failed
Processing 30/41: [yojson.2.1.2: http]
Processing 31/41: [yojson.2.1.2: http]
Processing 32/41: [yojson.2.1.2: http]
Processing 33/41: [yojson.2.1.2: http]
Processing 34/41: [yojson.2.1.2: http]
Processing 35/41: [yojson.2.1.2: http]
[ERROR] Failed to get sources of yojson.2.1.2: Curl failed

#=== ERROR while fetching sources for yojson.2.1.2 ============================#
OpamSolution.Fetch_fail("https://github.com/ocaml-community/yojson/releases/download/2.1.2/yojson-2.1.2.tbz (Curl failed: \"/usr/bin/curl --write-out %{http_code}\\\\n --retry 3 --retry-delay 2 --user-agent opam/2.2.0~beta3~dev -L -o /home/opam/.opam/4.14/.opam-switch/sources/yojson.2.1.2/yojson-2.1.2.tbz.part -- https://github.com/ocaml-community/yojson/releases/download/2.1.2/yojson-2.1.2.tbz\" exited with code 6)")

#=== ERROR while fetching sources for stdlib-shims.0.3.0 ======================#
OpamSolution.Fetch_fail("https://github.com/ocaml/stdlib-shims/releases/download/0.3.0/stdlib-shims-0.3.0.tbz (Curl failed: \"/usr/bin/curl --write-out %{http_code}\\\\n --retry 3 --retry-delay 2 --user-agent opam/2.2.0~beta3~dev -L -o /home/opam/.opam/4.14/.opam-switch/sources/stdlib-shims.0.3.0/stdlib-shims-0.3.0.tbz.part -- https://github.com/ocaml/stdlib-shims/releases/download/0.3.0/stdlib-shims-0.3.0.tbz\" exited with code 6)")

#=== ERROR while fetching sources for sexplib0.v0.17.0 ========================#
OpamSolution.Fetch_fail("https://github.com/janestreet/sexplib0/archive/refs/tags/v0.17.0.tar.gz (Curl failed: \"/usr/bin/curl --write-out %{http_code}\\\\n --retry 3 --retry-delay 2 --user-agent opam/2.2.0~beta3~dev -L -o /home/opam/.opam/4.14/.opam-switch/sources/sexplib0.v0.17.0/v0.17.0.tar.gz.part -- https://github.com/janestreet/sexplib0/archive/refs/tags/v0.17.0.tar.gz\" exited with code 6)")

#=== ERROR while fetching sources for ppxlib.0.32.1 ===========================#
OpamSolution.Fetch_fail("https://github.com/ocaml-ppx/ppxlib/releases/download/0.32.1/ppxlib-0.32.1.tbz (Curl failed: \"/usr/bin/curl --write-out %{http_code}\\\\n --retry 3 --retry-delay 2 --user-agent opam/2.2.0~beta3~dev -L -o /home/opam/.opam/4.14/.opam-switch/sources/ppxlib.0.32.1/ppxlib-0.32.1.tbz.part -- https://github.com/ocaml-ppx/ppxlib/releases/download/0.32.1/ppxlib-0.32.1.tbz\" exited with code 6)")

#=== ERROR while fetching sources for ppx_derivers.1.2.1 ======================#
OpamSolution.Fetch_fail("https://github.com/ocaml-ppx/ppx_derivers/archive/1.2.1.tar.gz (Curl failed: \"/usr/bin/curl --write-out %{http_code}\\\\n --retry 3 --retry-delay 2 --user-agent opam/2.2.0~beta3~dev -L -o /home/opam/.opam/4.14/.opam-switch/sources/ppx_derivers.1.2.1/1.2.1.tar.gz.part -- https://github.com/ocaml-ppx/ppx_derivers/archive/1.2.1.tar.gz\" exited with code 6)")

#=== ERROR while fetching sources for ocaml-compiler-libs.v0.12.4 =============#
OpamSolution.Fetch_fail("https://github.com/janestreet/ocaml-compiler-libs/releases/download/v0.12.4/ocaml-compiler-libs-v0.12.4.tbz (Curl failed: \"/usr/bin/curl --write-out %{http_code}\\\\n --retry 3 --retry-delay 2 --user-agent opam/2.2.0~beta3~dev -L -o /home/opam/.opam/4.14/.opam-switch/sources/ocaml-compiler-libs.v0.12.4/ocaml-compiler-libs-v0.12.4.tbz.part -- https://github.com/janestreet/ocaml-compiler-libs/releases/download/v0.12.4/ocaml-compiler-libs-v0.12.4.tbz\" exited with code 6)")

#=== ERROR while fetching sources for menhir.20230608, menhirLib.20230608 and menhirSdk.20230608 
OpamSolution.Fetch_fail("https://gitlab.inria.fr/fpottier/menhir/-/archive/20230608/archive.tar.gz (Curl failed: \"/usr/bin/curl --write-out %{http_code}\\\\n --retry 3 --retry-delay 2 --user-agent opam/2.2.0~beta3~dev -L -o /tmp/opam-7-2c5f42/archive.tar.gz.part -- https://gitlab.inria.fr/fpottier/menhir/-/archive/20230608/archive.tar.gz\" exited with code 6)")

#=== ERROR while fetching sources for libbinaryen.112.0.0 =====================#
OpamSolution.Fetch_fail("https://github.com/grain-lang/libbinaryen/releases/download/v112.0.0/libbinaryen-v112.0.0.tar.gz (Curl failed: \"/usr/bin/curl --write-out %{http_code}\\\\n --retry 3 --retry-delay 2 --user-agent opam/2.2.0~beta3~dev -L -o /home/opam/.opam/4.14/.opam-switch/sources/libbinaryen.112.0.0/libbinaryen-v112.0.0.tar.gz.part -- https://github.com/grain-lang/libbinaryen/releases/download/v112.0.0/libbinaryen-v112.0.0.tar.gz\" exited with code 6)")

#=== ERROR while fetching sources for js_of_ocaml-compiler.5.0.1 ==============#
OpamSolution.Fetch_fail("https://github.com/ocsigen/js_of_ocaml/releases/download/5.0.1/js_of_ocaml-5.0.1.tbz (Curl failed: \"/usr/bin/curl --write-out %{http_code}\\\\n --retry 3 --retry-delay 2 --user-agent opam/2.2.0~beta3~dev -L -o /home/opam/.opam/4.14/.opam-switch/sources/js_of_ocaml-compiler.5.0.1/js_of_ocaml-5.0.1.tbz.part -- https://github.com/ocsigen/js_of_ocaml/releases/download/5.0.1/js_of_ocaml-5.0.1.tbz\" exited with code 6)")

#=== ERROR while fetching sources for cppo.1.6.9 ==============================#
OpamSolution.Fetch_fail("https://github.com/ocaml-community/cppo/archive/v1.6.9.tar.gz (Curl failed: \"/usr/bin/curl --write-out %{http_code}\\\\n --retry 3 --retry-delay 2 --user-agent opam/2.2.0~beta3~dev -L -o /home/opam/.opam/4.14/.opam-switch/sources/cppo.1.6.9/v1.6.9.tar.gz.part -- https://github.com/ocaml-community/cppo/archive/v1.6.9.tar.gz\" exited with code 6)")

#=== ERROR while fetching sources for cmdliner.1.3.0 ==========================#
OpamSolution.Fetch_fail("https://erratique.ch/software/cmdliner/releases/cmdliner-1.3.0.tbz (Curl failed: \"/usr/bin/curl --write-out %{http_code}\\\\n --retry 3 --retry-delay 2 --user-agent opam/2.2.0~beta3~dev -L -o /home/opam/.opam/4.14/.opam-switch/sources/cmdliner.1.3.0/cmdliner-1.3.0.tbz.part -- https://erratique.ch/software/cmdliner/releases/cmdliner-1.3.0.tbz\" exited with code 6)")


<><> Error report <><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
+- The following actions failed
| - fetch cmdliner                                                1.3.0
| - fetch cppo                                                    1.6.9
| - fetch js_of_ocaml-compiler                                    5.0.1
| - fetch libbinaryen                                             112.0.0
| - fetch menhir.20230608, menhirLib.20230608, menhirSdk.20230608 
| - fetch ocaml-compiler-libs                                     v0.12.4
| - fetch ppx_derivers                                            1.2.1
| - fetch ppxlib                                                  0.32.1
| - fetch sexplib0                                                v0.17.0
| - fetch stdlib-shims                                            0.3.0
| - fetch yojson                                                  2.1.2
+- 
+- The following changes have been performed
| - install seq base
+- 
# Run eval $(opam env) to update the current shell environment

The former state can be restored with:
    /usr/bin/opam switch import "/home/opam/.opam/4.14/.opam-switch/backup/state-20240524051312.export"
'opam reinstall --with-test --verbose libbinaryen.112.0.0' failed.
"/usr/bin/env" "bash" "-c" "opam reinstall --with-test --verbose libbinaryen.112.0.0;
        res=$?;
        test "$res" != 31 && exit "$res";
        export OPAMCLI=2.0;
        build_dir=$(opam var prefix)/.opam-switch/build;
        failed=$(ls "$build_dir");
        partial_fails="";
        for pkg in $failed; do
          if opam show -f x-ci-accept-failures: "$pkg" | grep -qF "\"debian-12\""; then
            echo "A package failed and has been disabled for CI using the 'x-ci-accept-failures' field.";
          fi;
          test "$pkg" != 'libbinaryen.112.0.0' && partial_fails="$partial_fails $pkg";
        done;
        test "${partial_fails}" != "" && echo "opam-repo-ci detected dependencies failing: ${partial_fails}";
        exit 1" failed with exit status 40
2024-05-24 05:22.32: Job failed: Failed: Build failed
2024-05-24 05:22.32: Log analysis:
2024-05-24 05:22.32: >>> 
[ERROR] Sorry, resolution of the request timed out.
 (score = 20)
2024-05-24 05:22.32: >>> 
[ERROR] Failed to get sources of cmdliner.1.3.0: Curl failed
 (score = 25)
2024-05-24 05:22.32: >>> 
[ERROR] Failed to get sources of cppo.1.6.9: Curl failed
 (score = 25)
2024-05-24 05:22.32: >>> 
[ERROR] Failed to get sources of js_of_ocaml-compiler.5.0.1: Curl failed
 (score = 25)
2024-05-24 05:22.32: >>> 
[ERROR] Failed to get sources of libbinaryen.112.0.0: Curl failed
 (score = 25)
2024-05-24 05:22.32: >>> 
[ERROR] Failed to get sources of menhir.20230608, menhirLib.20230608, menhirSdk.20230608 (https://gitlab.inria.fr/fpottier/menhir/-/archive/20230608/archive.tar.gz): Curl failed
 (score = 25)
2024-05-24 05:22.32: >>> 
[ERROR] Failed to get sources of ocaml-compiler-libs.v0.12.4: Curl failed
 (score = 25)
2024-05-24 05:22.32: >>> 
[ERROR] Failed to get sources of ppx_derivers.1.2.1: Curl failed
 (score = 25)
2024-05-24 05:22.32: >>> 
[ERROR] Failed to get sources of ppxlib.0.32.1: Curl failed
 (score = 25)
2024-05-24 05:22.32: >>> 
[ERROR] Failed to get sources of sexplib0.v0.17.0: Curl failed
 (score = 25)
2024-05-24 05:22.32: >>> 
[ERROR] Failed to get sources of stdlib-shims.0.3.0: Curl failed
 (score = 25)
2024-05-24 05:22.32: >>> 
[ERROR] Failed to get sources of yojson.2.1.2: Curl failed
 (score = 25)
2024-05-24 05:22.32: Failed to get sources of cmdliner.1.3.0: Curl failed
